<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dinastia Han</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body>
    <div class="container">

        <a href="./../../china.html" class="botao btn btn-primary">Voltar</a>

        <div style="width: 5px;"></div>

        <a href="./pagina_qin.html" class="botao btn btn-primary"><i class="fas fa-backward"></i></a>

        <div class="slidecontainer">
            <input type="range" min="0" max="100" value="0" class="slider" id="myRange" />
            <div id="markers"></div>
        </div>

        <a href="./pagina_sui.html" class="botao btn btn-primary"><i class="fas fa-forward"></i></a>

        <div style="width: 5px;"></div>

        <a href="./pagina_qing.html" class="botao btn btn-primary">Avançar</a>

    </div>

    <br /><br />


    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
    <!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

    <svg version="1.1" id="Layer_1" x="0px" y="0px" width="750px" height="450px" viewBox="0 0 750 450"
        enable-background="new 0 0 750 450" xml:space="preserve" sodipodi:docname="DinastiaHan.svg"
        inkscape:version="1.4.2 (f4327f4, 2025-05-13)" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
        xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg"
        xmlns:svg="http://www.w3.org/2000/svg">
        <defs id="defs53" />
        <sodipodi:namedview id="namedview53" pagecolor="#ffffff" bordercolor="#000000" borderopacity="0.25"
            inkscape:showpageshadow="2" inkscape:pageopacity="0.0" inkscape:pagecheckerboard="0"
            inkscape:deskcolor="#d1d1d1" inkscape:zoom="0.89666669" inkscape:cx="411.52415" inkscape:cy="238.10408"
            inkscape:window-width="1366" inkscape:window-height="697" inkscape:window-x="-8" inkscape:window-y="-8"
            inkscape:window-maximized="1" inkscape:current-layer="g53" />
        <g id="g53">
            <rect fill="#FFFFFF" width="750" height="451" id="rect1" style="fill:#b2e9ff;fill-opacity:1" />
            <path fill="#346733" stroke="#FFFFFF" stroke-miterlimit="10"
                d="M483.5,394.75l-11.667,2.041l-8.333,3.355l-2.167,4.843   l-2.833,6.505l4.833,5.006H476l10-10.875l-1.167-4.667C484.833,400.958,489.696,393.666,483.5,394.75z"
                id="path1" style="fill:#ececec;fill-opacity:1" />
            <polygon fill="#C0C0C0" stroke="#FFFFFF" stroke-miterlimit="10"
                points="608,295.5 604,295.5 599.75,297.5 596.875,305.625    592.5,314.25 592.5,321 595.75,326.5 601.875,331 607.5,332 607.5,330 606,326.75 607.875,322.5 609.688,316.25 608.219,309    609.734,304.25  "
                id="polygon1" />
            <path fill="#C0C0C0" stroke="#FFFFFF" stroke-miterlimit="10"
                d="M707.25,16.125l-1.875,3.563l1.063,3.281l3.031,3.391L705.5,28.5   h-5V32l2.5,4.25l2.133,9.25l3.82,6L711.5,67v5l-5.5,4.5L700.5,87v6v12l-8.25,7.5l-6.375,4.25l-8.938,7.25l-9.344,7.25l-7.094,12   V151l10.75-3.75l5.375-7.25l5.313-2.5l7.781-7l7.766-5.75l4.258,0.5l3.504,5.5l6.752,0.25c0,0,3.751-8,5.751-9.5   s0.001-7.5,0.001-7.5l3-4.5l7.75-4.5l2.5-7.75l6.5-0.5V94l-1.5-4.25c0,0,2.375-1,4.625,2.25s3.813,3,3.813-1.75   s-1.469-11.75-1.469-11.75l-4.234-10.25c0,0-2.742-14.25-6.992-14.25s-3.246-11.5-3.246-11.5l-3.498-11l-8.999-6.75L711,20   l-1.75-1.75L707.25,16.125z"
                id="path2" />
            <polygon fill="#C0C0C0" stroke="#FFFFFF" stroke-miterlimit="10"
                points="676.375,157 671.438,152.625 663.469,154.688    657.609,156.781 653.5,163 653.5,170 659,174.75 662.875,172.5 660.938,167.25 663.969,166.25 669.484,172.5 668.992,177    671.246,181.75 676.373,184.5 679.999,179.25 681.25,174.25 678.5,169.75 677,164 678,159.5  "
                id="polygon2" />
            <path fill="#C0C0C0" stroke="#FFFFFF" stroke-miterlimit="10"
                d="M698.875,131.125l-6.813,1.313l-1.531,3.031l-3.766,3.266   L679.5,143.5v6.5l1.5,5c0,0,7.875,3.75,8.25,0s0.063-9,0.063-9l3.031-0.75l6.156-1.291V142v-6l1.75-1L698.875,131.125z"
                id="path3" />
            <path fill="#C0C0C0" stroke="#FFFFFF" stroke-miterlimit="10"
                d="M698.375,6.813c0.527-1.932,8.145-5.313,12.633-6.313h-20.041   c0.295,1-0.311,1.975-2.967,2.25c-7.25,0.75-2.514,5.875-2.514,5.875s0.263,5.938,0.013,7.563s3.249,6.595,5.991,4.345   s7.756,2.235,7.756,2.235l3.742-1.756l-2.504-2.75l-3.016-2.119c0,0-6.281-2.485-6.031-4.735S697.625,9.563,698.375,6.813z"
                id="path4" />
            <path fill="#C0C0C0" stroke="#ffffff" stroke-miterlimit="10"
                d="M 353,8.5 348.666,15.791 341,20.854 334.833,29.177 327,36.5 h -9 l 3,-4.083 9.167,-3.708 2.167,-5.77 7.332,-7.762 L 346.703,1.5 H -0.5 v 450 h 124.761 l 17.208,-13.75 13.516,-3.625 5.508,-10.063 3.004,-7.531 c 0,0 9.502,-2.016 13.002,-7.016 3.5,-5 7.501,1.492 7.501,1.492 l 8.001,-1.754 6,-0.754 h 9 l 5.5,-5 6.5,-4.625 8,2.813 c 0,0 7.5,9.406 8.5,17.906 1,8.5 21,17.453 21,17.453 l 7.5,4.227 1.784,10.227 h 197.913 l -3.698,-5.687 -16.5,-8.656 -9,-7.078 -10,-5.539 -4.25,-11.52 5.25,-6.02 v -7.5 L 435.75,387.25 451,382.5 h 15.5 l 3.5,13 h 5 l 2.25,-4.25 -3.75,-4.25 v -5 l 9.75,-8 19.875,-10 18.188,-7.5 10.094,-8.5 8.047,-6 16.023,-4 3.512,-7 2.006,-10.5 8.253,-11 c 0,0 1.503,-6.5 6.503,-10.5 5,-4 -1.25,-6 -1.25,-6 v -7.626 L 576,277 c 0,0 0.625,-7 6.625,-14 6,-7 -0.313,-5.25 0.188,-13.25 0.501,-8 -3.813,-12.25 -3.813,-12.25 h -5 l 4,-10 -2,-11.125 -10,-6.188 -8.5,-8.594 -8,-6.547 -7.5,-3.023 -6,-10.012 c 0,0 5,-11.506 7.5,-17.506 2.5,-6 10,-5.003 11.5,-11.003 1.5,-6 -10.5,-2.001 -10.5,-2.001 l -11,3.499 c 0,0 -10.5,12.5 -11.5,10 -1,-2.5 -7.5,-5.5 -12.5,-6.5 -5,-1 -11,-7 -11,-9.5 0,-2.5 6,-6.5 6,-6.5 l 7.5,-10.5 11,-13.5 11.5,-4.5 5,2.5 -2.5,7 -2.5,7.5 4.5,6 8.5,-9.5 c 0,0 11.5,-9 15,-13 3.5,-4 16.25,3.5 16.25,3.5 l -3.25,9 v 4.5 l 10.5,-1.5 10.625,-2 2.688,6 1.094,9 c 0,0 7.047,2.5 5.547,7 -1.5,4.5 2.023,14.5 2.023,14.5 l 6.012,6 8.506,-9 c 0,0 6.003,-7.5 9.503,-10 3.5,-2.5 3.003,-13 3.003,-13 l -4.5,-10 -11.75,-7 -11.25,-5 -4.5,-4.497 -6.006,-7.997 5.494,-11.494 2.488,-14.488 -2.523,-10.477 c 0,0 5.453,-7.953 5.953,-14.953 0.5,-7 7.406,-4.406 7.406,-4.406 l 13.313,-4.813 c 0,0 6.625,-13.875 6.625,-21.875 0,-6.004 1.83,-16 2.744,-20 H 355.112 Z M 87.667,107 c -6,4.667 -25,-1 -25,-1 L 49,108.002 l -5,4 -4,2.337 2,5.005 -2,3.011 -7,-5.313 -2,-4.291 4.667,-4.5 L 49,103.5 h 15.333 l 13,1.417 10.333,-1.876 c 0.001,0 6.001,-0.707 0.001,3.959 z"
                id="path5" style="fill:#c1c0c0;fill-opacity:1"
                sodipodi:nodetypes="ccccccccccccccccccscccccccsccccccccccccccccccccccccccccscccsscccccccccssccssscccccccccscccccccscccscccccccccsccscccccccccccccccccc" />


            <path fill="none" stroke="#FFFFFF" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6.9338,4.9527"
                d="M603.602,86.029   c-12.315,5.666-31.012,13.414-40.57,13.096c-15-0.5-13.516-20.044-31.516-0.053c-18,19.99-24.508,28.959-37.508,22.959   s-16.504-7.016-21.504,3.984s-83.502-0.508-83.502,24.992s-12.501,34.496-26.001,29.996S266,148.002,245.5,159.002   c-20.5,11-25-34.501-25-34.501L210,115.5c0,0-4.5-10-22-3.5s-15,17.25-31.5,19.125S134.5,147,134.5,147l-20.5,1l-22.5,8.666   L73,163.5l-17.5,5.063L27,175.5l-10,6.611c0,0-16.5,11.889,3,23.389s21,27,37.5,27s32,10.5,43.5,0s25.5-7,25.5-7s46.5-11,48-15   s19-12.5,19-12.5l15.5-5.5c0,0,51-24,74-12s46-7,79,27c10.74,11.066,18.248,17.786,23.803,21.804l-0.47,4.696l-7.409,5.334   L375.333,250l-5,7L365,262.334c0,0-5.999,11-4.333,16.666s-0.666,11.667-0.666,11.667l-8.999,9.667l-1.482,19   c0,0,1.49,14.333,0.157,19.333s6.546,13,6.546,13l16.819,7c0,0,17.042,2.333,24.374,1.667c5.446-0.494,7.812,7.83,8.67,12.149   c-4.859,1.606-8.141,3.656-8.586,7.517c-1.5,13,15.5,9.5,14,18.5c-1.324,7.947-5.251,46.299,40.279,42.765"
                id="path8" />
            <path fill="#346733"
                d="m 603.602,86.029 c -12.315,5.666 -31.012,13.414 -40.57,13.096 -15,-0.5 -13.516,-20.044 -31.516,-0.053 -18,19.99 -24.508,28.959 -37.508,22.959 -13,-6 -16.504,-7.016 -21.504,3.984 -5,11 -83.502,-0.508 -83.502,24.992 0,25.5 -12.501,34.496 -26.001,29.996 -13.5,-4.5 -97.001,-33.001 -117.501,-22.001 -20.5,11 -25,-34.501 -25,-34.501 L 210,115.5 c 0,0 -4.5,-10 -22,-3.5 -17.5,6.5 -15,17.25 -31.5,19.125 C 140,133 134.5,147 134.5,147 L 114,148 91.5,156.666 73,163.5 55.5,168.563 27,175.5 17,182.111 c 0,0 -16.5,11.889 3,23.389 19.5,11.5 21,27 37.5,27 16.5,0 32,10.5 43.5,0 11.5,-10.5 25.5,-7 25.5,-7 0,0 46.5,-11 48,-15 1.5,-4 19,-12.5 19,-12.5 l 15.5,-5.5 c 0,0 51,-24 74,-12 23,12 46,-7 79,27 10.74,11.066 18.248,17.786 23.803,21.804 l -0.47,4.696 -7.409,5.334 -2.591,10.666 -5,7 -5.333,5.334 c 0,0 -5.999,11 -4.333,16.666 1.666,5.666 -0.666,11.667 -0.666,11.667 l -8.999,9.667 -1.482,19 c 0,0 1.49,14.333 0.157,19.333 -1.333,5 6.546,13 6.546,13 l 16.819,7 c 0,0 17.042,2.333 24.374,1.667 5.446,-0.494 7.812,7.83 8.67,12.149 -4.859,1.606 -8.141,3.656 -8.586,7.517 -1.5,13 15.5,9.5 14,18.5 -1.324,7.947 -5.251,46.299 40.279,42.765 L 443.5,437 l -9,-7 -10,-5.5 -3.5,-11.5 6,-6 v -7.5 l 9.5,-13 14.5,-5.5 h 15.5 l 3.5,13 h 5 l 3,-3.5 -3,-3.5 v -5 l 9,-8 19.5,-10 18,-7.5 10,-8.5 8,-6 16,-4 3.5,-7 2,-10.5 8.25,-11 c 0,0 2.25,-6.5 7.25,-10.5 5,-4 -0.5,-6 -0.5,-6 v -7.626 L 576.75,277 c 0,0 0.25,-7 6.25,-14 6,-7 -0.5,-6 0,-14 0.5,-8 -4,-13 -4,-13 h -5 l 4,-9.25 -2,-10.75 -10,-6 -8.5,-8.5 -8,-6.5 -7.5,-3 -6,-10 c 0,0 5,-11.5 7.5,-17.5 2.5,-6 10,-5 11.5,-11 1.5,-6 -10.5,-2 -10.5,-2 l -11,3.5 c 0,0 -10.5,12.5 -11.5,10 -1,-2.5 -7.5,-5.5 -12.5,-6.5 -5,-1 -11,-7 -11,-9.5 0,-2.5 6,-6.5 6,-6.5 l 7.5,-10.5 11,-13.5 11.5,-4.5 5,2.5 -2.5,7 -2.5,7.5 4.5,6 8.5,-9.5 c 0,0 11.5,-9 15,-13 3.5,-4 17,3.5 17,3.5 l -2.5,9 v 4.5 l 9.75,-1.5 10.25,-2 1.818,4.363 c 2.587,-3.232 4.17,-7.15 2.494,-11.363 -1.738,-4.37 -0.941,-7.553 1.08,-9.807 l -5.398,-7.188 5.494,-11.494 z"
                id="path6" style="display:inline;fill:#ececec;fill-opacity:1;stroke:#002fbb;stroke-opacity:1"
                onmousemove="showTooltip(event, 'Dinastia Han (206 a.C.–220 d.C.)','https://upload.wikimedia.org/wikipedia/commons/b/b2/CMOC_Treasures_of_Ancient_China_exhibit_-_painted_figure_of_a_cavalryman.jpg','Período de prosperidade, expansão territorial e avanços na ciência, arte e na Rota da Seda.', this, '#002fbbff');"
                onmouseout="hideTooltip();" onmouseleave="originalColor(this);" onclick="openModal('china');" />
            <path fill="none" stroke="#FFFFFF" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6.9338,4.9527"
                d="M598.693,132.363   c2.587-3.232,4.232-7.15,2.557-11.363c-1.738-4.37-0.91-7.553,1.111-9.807"
                id="path9" />
            <path fill="none" stroke="#FFFFFF" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6.9338,4.9527"
                d="M221.01,187.498   c-2.435-4.158-5.729-7.47-2.749-8.917c6.011-2.919,3.989-7.331,10.701-13.182c2.249-1.96,4.675-3.797,6.913-5.38"
                id="path10" />
            <path fill="#49C846"
                d="m 218.261,178.581 c 6.011,-2.919 3.989,-7.331 10.701,-13.182 2.249,-1.96 4.675,-3.797 6.913,-5.38 C 223.521,155.012 220.5,124.5 220.5,124.5 l -10.5,-9 c 0,0 -4.5,-10 -22,-3.5 -17.5,6.5 -15,17.25 -31.5,19.125 C 140,133 134.5,147 134.5,147 L 114,148 91.5,156.666 73,163.5 55.5,168.563 27,175.5 17,182.111 c 0,0 -16.5,11.889 3,23.389 19.5,11.5 21,27 37.5,27 16.5,0 32,10.5 43.5,0 11.5,-10.5 25.5,-7 25.5,-7 0,0 46.5,-11 48,-15 1.5,-4 19,-12.5 19,-12.5 l 15.5,-5.5 c 0,0 4.755,-2.236 12.01,-5.002 -2.435,-4.158 -5.729,-7.47 -2.749,-8.917 z"
                id="path7"
                style="display:inline;fill:none;fill-opacity:1;stroke:#fb0300;stroke-opacity:1;opacity:1;stroke-dasharray:none;stroke-dashoffset:0" />
            <rect fill="none" stroke="#585C60" stroke-width="4" stroke-miterlimit="10" width="750" height="451"
                id="rect10" />







        </g>
    </svg>



    <div>
        <div class="map-overlay">
            <h5>Informações Sobre a Dinastia Han</h5>
            <p>Passe o mouse e clique na Dinastia Han para descobrir mais sobre sua situação histórica e eventos
                marcantes.
            </p>
            <div class="card">
                <div class="legend">
                    <h5>Legenda</h5>


                    <div class="legend-item">
                        <div class="legend-border" style="border: 2px solid #fb0300ff; width: 20px; height: 20px;">
                        </div>
                        <span>Han Ocidental</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-border" style="border: 2px solid #002fbbff; width: 20px; height: 20px;">
                        </div>
                        <span>Han Oriental</span>
                    </div>
                </div>

                <button class="btn btn-primary" data-toggle="modal" data-target="#infoModal">Saiba Mais</button>
            </div>
        </div>
    </div>

    <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="infoModalLabel">
                        Aprofundando o conhecimento
                    </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span>&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="d-flex flex-column align-items-center">
                        <div class="modal-category">
                            <div class="modal-square" style="border: 2px solid #fb0300ff; width: 20px; height: 20px;">
                            </div>
                            <div>
                                <h6 class="font-weight-bold text-danger">Han Ocidental</h6>
                                <p class="mb-0">
                                    A Dinastia Han Ocidental foi marcada pela consolidação do império
                                    chinês após o colapso dos Qin. Sua capital ficava em Chang’an
                                    (atual Xi’an), um dos maiores centros urbanos da época. O território
                                    se expandiu consideravelmente, abrangendo regiões do atual Vietnã, Coreia
                                    e Ásia Central. O império foi dividido em reinos e comandâncias, administrados
                                    por nobres e oficiais imperiais, garantindo o controle do governo sobre vastas
                                    áreas. Essa estrutura administrativa permitiu o desenvolvimento da economia e
                                    da Rota da Seda, conectando a China ao Ocidente.
                                </p>
                            </div>

                        </div>


                        <div class="modal-category">
                            <div class="modal-square" style="border: 2px solid #002fbbff; width: 20px; height: 20px;">
                            </div>
                            <div>
                                <h6 class="font-weight-bold">Han Oriental</h6>
                                <p class="mb-0">
                                    Após um breve período de instabilidade, o império foi restaurado
                                    sob o nome de Dinastia Han Oriental, com a capital transferida para
                                    Luoyang. O sistema de comandâncias e distritos foi mantido, mas
                                    com maior centralização do poder imperial. Durante esse período,
                                    o território foi novamente unificado, e o comércio pela Rota da Seda
                                    foi reativado. Entretanto, conflitos internos e o enfraquecimento da
                                    autoridade central levaram à fragmentação política que culminou no fim
                                    da dinastia e no início do período dos Três Reinos.
                                </p>
                            </div>
                        </div>
                        <div><a href="https://www.britannica.com/topic/Western-Han-dynasty">Western Han dynasty | Chinese history | Britannica</a></div>
                        <div><a href="https://www.worldhistory.org/Han_Dynasty/">Han Dynasty - World History Encyclopedia</a></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">
                        Fechar
                    </button>
                </div>
            </div>
        </div>
    </div>



    <div id="tooltip"></div>

    <div class="modal fade" id="countryModal" tabindex="-1" role="dialog" aria-labelledby="modalTitle"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <img id="modalImage" src="" alt="Bandeira do País" class="modal-flag" />
                    <h5 class="modal-title" id="modalTitle">País</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <!-- Descrição Principal -->
                    <div id="modalDescription">
                        <p></p>
                    </div>

                    <!-- Primeira Imagem com Legenda -->
                    <figure class="modal-figure">
                        <img id="image1" src="" alt="Imagem histórica 1" class="modal-image" />
                        <figcaption id="image1Caption" class="modal-caption">
                            Legenda da imagem 1
                        </figcaption>
                    </figure>

                    <!-- Segundo Texto Descritivo -->
                    <div id="modalDescription2">
                        <p id="historicalInfo"></p>
                    </div>

                    <!-- Fontes -->
                    <div id="modalSources" class="modal-sources"></div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">
                            Fechar
                        </button>
                    </div>
                </div>
            </div>


            <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

            <script>
                const countryData = {
                    china: {
                        title: "China",
                        imageURL: "https://upload.wikimedia.org/wikipedia/commons/f/fa/Flag_of_the_People%27s_Republic_of_China.svg",

                        description: "Foi uma das mais importantes da história chinesa, responsável por consolidar o sistema imperial após a queda dos Qin. Fundada por Liu Bang, conhecido como Imperador Gaozu, os Han transformaram o confucionismo na base ideológica do governo, estruturando uma burocracia sólida e centralizada. Durante esse período, a China expandiu suas fronteiras, estabeleceu a Rota da Seda e viveu um florescimento cultural e científico que incluiu avanços em astronomia, medicina e tecnologia, além da invenção do papel. O legado da Dinastia Han é tão duradouro que até hoje a maioria dos chineses se identifica como “povo Han”.",
                        image: "https://upload.wikimedia.org/wikipedia/commons/f/f6/Hangaozu.jpg",
                        imageCaption: "Representação artística do Imperador Gaozu, fundador da Dinastia Han",

                        description2: "Durante a Dinastia Han, a China consolidou sua administração centralizada e expandiu sua influência cultural e econômica para além das fronteiras. A Rota da Seda permitiu o intercâmbio de mercadorias e ideias com outras regiões da Ásia e do Mediterrâneo. A arte, a literatura e a ciência floresceram, incluindo avanços em astronomia, medicina, engenharia e a criação do papel, que transformou a comunicação e a educação no império.",

                        sources: [
                            {
                                name: "Han dynasty - Wikipedia",
                                url: "https://en.wikipedia.org/wiki/Han_dynasty"
                            },
                            {
                                name: "Han dynasty | Definition, Map, Time Period, Achievements, & Facts | Britannica",
                                url: "https://www.britannica.com/topic/Han-dynasty"
                            }
                        ]
                    }
                };

                var myModalEl = document.getElementById('countryModal')
                myModalEl.addEventListener('hidden.bs.modal', function (event) {
                    document.body.style.overflow = 'auto'; // garante rolagem ao fechar
                })


                function openModal(country) {
                    const data = countryData[country.toLowerCase()];

                    if (!data) {
                        console.error("Dados do país não encontrados.");
                        return;
                    }

                    const setTextContent = (id, content, fallback = "Informação Indisponível") => {
                        document.getElementById(id).textContent = content || fallback;
                    };

                    const setImageAttributes = (id, src, alt, fallbackAlt = "Imagem não disponível") => {
                        const img = document.getElementById(id);
                        img.src = src || "";
                        img.alt = alt || fallbackAlt;
                    };

                    // Título do modal
                    setTextContent("modalTitle", data.title);

                    // Imagem da bandeira do país
                    setImageAttributes("modalImage", data.imageURL, `Bandeira de ${data.title}`);

                    // Descrição principal
                    setTextContent("modalDescription", data.description, "Sem descrição disponível");

                    // Primeira imagem e legenda
                    setImageAttributes("image1", data.image, `Imagem de ${data.title}`);
                    setTextContent("image1Caption", data.imageCaption, "Legenda indisponível");

                    // Segunda descrição
                    setTextContent("modalDescription2", data.description2);

                    // Fontes de informação
                    const sourcesElement = document.getElementById("modalSources");
                    if (data.sources && data.sources.length > 0) {
                        sourcesElement.innerHTML = "Fontes: " + data.sources
                            .map((source, index, arr) =>
                                `<a href="${source.url}" target="_blank">${source.name}</a>${index < arr.length - 1 ? (index === arr.length - 2 ? ' e ' : ', ') : ''}`
                            ).join('');
                    } else {
                        sourcesElement.textContent = "Fontes: Nenhuma fonte disponível.";
                    }

                    // Exibe o modal
                    $("#countryModal").modal("show");
                }

                function showTooltip(evt, title, imageURL, description, area, color) {
                    let tooltip = document.getElementById("tooltip");
                    tooltip.innerHTML = ""; // Limpa o conteúdo anterior do tooltip

                    // Criar elementos para o título, imagem e descrição
                    let tooltipTitle = document.createElement("div");
                    tooltipTitle.textContent = title;
                    tooltipTitle.classList.add("tooltip-title"); // Aplica a classe ao título

                    let tooltipImg = document.createElement("img");
                    tooltipImg.src = imageURL;
                    tooltipImg.classList.add("tooltip-image"); // Adiciona a classe para centralizar a imagem

                    let tooltipDescription = document.createElement("div");
                    tooltipDescription.textContent = description;
                    tooltipDescription.classList.add("tooltip-text"); // Aplica a classe ao texto

                    // Adiciona os elementos ao tooltip
                    tooltip.appendChild(tooltipTitle);
                    tooltip.appendChild(tooltipImg);
                    tooltip.appendChild(tooltipDescription);

                    tooltip.style.display = "block"; // Exibe o tooltip

                    // Define a posição do tooltip
                    let tooltipWidth = tooltip.offsetWidth;
                    let tooltipHeight = tooltip.offsetHeight;

                    let left = evt.pageX + 10; // Posição horizontal
                    let top = evt.pageY + 10; // Posição vertical

                    // Ajusta a posição se o tooltip sair da tela
                    if (left + tooltipWidth > window.innerWidth) {
                        left = window.innerWidth - tooltipWidth - 10;
                    }
                    if (top + tooltipHeight > window.innerHeight) {
                        top = window.innerHeight - tooltipHeight - 10;
                    }

                    tooltip.style.left = left + "px";
                    tooltip.style.top = top + "px";

                    // Alterar cor do elemento ou dos elementos dentro do grupo
                    if (area.tagName === "g") {
                        changeGroupColor(area, color);
                    } else {
                        area.style.fill = color;
                    }
                }

                function hideTooltip() {
                    var tooltip = document.getElementById("tooltip");
                    tooltip.style.display = "none"; // Oculta o tooltip
                }

                function originalColor(area) {
                    // Restaurar a cor original para grupos e elementos
                    if (area.tagName === "g") {
                        resetGroupColor(area);
                    } else {
                        area.style.fill = "#ececec";
                    }
                }

                function changeGroupColor(group, color) {
                    // Itera sobre todos os filhos do grupo e altera a cor
                    const elements = group.querySelectorAll("*");
                    elements.forEach((element) => {
                        if (element.tagName === "path") {
                            element.style.fill = color;
                        }
                    });
                }

                function resetGroupColor(group) {
                    // Itera sobre todos os filhos do grupo e restaura a cor original
                    const elements = group.querySelectorAll("*");
                    elements.forEach((element) => {
                        if (element.tagName === "path") {
                            element.style.fill = "#ececec"; // Cor original
                        }
                    });
                }

                const events = [
                    { year: -2070, label: "Xia" },
                    { year: -1600, label: "Shang" },
                    { year: -1046, label: "Zhou" },
                    { year: -221, label: "Qin" },
                    { year: -206, label: "Han" },
                    { year: 581, label: "Sui" },
                    { year: 618, label: "Tang" },
                    { year: 960, label: "Song" },
                    { year: 1271, label: "Yuan" },
                    { year: 1368, label: "Ming" },
                    { year: 1644, label: "Qing" },
                ];

                // Ajuste visual: ano extra para ter um espaço no final da linha do tempo
                const extraYear = 1800;

                const minYear = events[0].year;
                const maxYear = extraYear;
                const totalDuration = maxYear - minYear;

                const markersContainer = document.getElementById("markers");
                const slider = document.getElementById("myRange");

                // Função para calcular a posição proporcional em %
                function getProportionalPosition(year) {
                    return ((year - minYear) / totalDuration) * 100;
                }

                // Cria marcadores automaticamente
                function createMarkers() {
                    markersContainer.innerHTML = "";
                    events.forEach((event, index) => {
                        const marker = document.createElement("span");
                        marker.className = "marker";
                        marker.setAttribute("data-year", event.year);

                        const position = getProportionalPosition(event.year);
                        marker.style.left = `${position}%`;

                        // vertical alternating: mantém seu comportamento atual
                        if (event.year == -1600 || event.year == 1644) {
                            marker.style.top = "-45px";
                        } else {
                            marker.style.top = index % 2 === 1 ? "-40px" : "20px";
                        }

                        marker.innerHTML = `
      <span class="marker-title">${event.year}</span>
      <span class="marker-subtitle">${event.label}</span>
    `;

                        markersContainer.appendChild(marker);
                    });
                }

                createMarkers();

                // Encontra índice do evento mais próximo com base em um valor percentual (0-100)
                function getClosestEventIndex(value) {
                    let closestIndex = 0;
                    let closestDifference = Infinity;
                    events.forEach((event, index) => {
                        const eventPosition = getProportionalPosition(event.year);
                        const difference = Math.abs(value - eventPosition);
                        if (difference < closestDifference) {
                            closestDifference = difference;
                            closestIndex = index;
                        }
                    });
                    return closestIndex;
                }

                // Atualiza gradiente do slider enquanto o usuário move (pula para o ponto mais próximo)
                slider.addEventListener("input", function () {
                    const value = parseFloat(this.value);
                    const selectedIndex = getClosestEventIndex(value);
                    const selectedEvent = events[selectedIndex];
                    const eventPosition = getProportionalPosition(selectedEvent.year);

                    // Força o slider a "engatar" no valor exato do evento encontrado
                    this.value = eventPosition;

                    // Atualiza o fundo até exatamente o marcador
                    this.style.background = `linear-gradient(to right, #39b54a ${eventPosition}%, #feae98 ${eventPosition}%)`;
                });

                // Ao soltar o slider, navega para a página do evento
                slider.addEventListener("change", function () {
                    const selectedIndex = getClosestEventIndex(parseFloat(this.value));
                    const selectedEvent = events[selectedIndex];
                    window.location.href = `pagina_${selectedEvent.label.toLowerCase()}.html`;
                });

                // Pega o ano correspondente à página atual (se houver)
                function getCurrentYearFromURL() {
                    const currentPage = window.location.href;
                    const dynastyMatch = currentPage.match(/pagina_(\w+)\.html/);
                    if (dynastyMatch && dynastyMatch[1]) {
                        const dynasty = dynastyMatch[1].toLowerCase();
                        const event = events.find(e => e.label.toLowerCase() === dynasty);
                        return event ? event.year : null;
                    }
                    return null;
                }

                // Define o valor inicial do slider baseado no ano atual
                function initializeSlider() {
                    const currentYear = getCurrentYearFromURL();
                    if (currentYear !== null) {
                        const initialPosition = getProportionalPosition(currentYear);
                        slider.value = initialPosition;

                        const backgroundValue = (initialPosition / 100) * 100;
                        slider.style.background = `linear-gradient(to right, yellow 0%, yellow ${backgroundValue}%, #feae98 ${backgroundValue}%, #feae98 100%)`;
                    }
                }

                // Chama a função para inicializar o slider quando a página for carregada
                window.addEventListener("load", initializeSlider);

            </script>
</body>

</html>